import{r as v,a0 as J,a3 as ce,v as le,f as _,u as k,d as Q,a4 as ue,m as y,B as A,o as de,X as W,F as pe,a5 as me,U as fe,p as ge,e as he}from"./app-CKkwK5Co.js";import{a as ye,u as we}from"./use-resolved-styles-api-ByeDsg21.js";import{P as V}from"./Popover-rEglhCYY.js";import{u as ve}from"./DirectionProvider-BUZmjoiZ.js";function L(e,n){let o=e;for(;(o=o.parentElement)&&!o.matches(n););return o}function Me(e,n,o){for(let t=e-1;t>=0;t-=1)if(!n[t].disabled)return t;if(o){for(let t=n.length-1;t>-1;t-=1)if(!n[t].disabled)return t}return e}function De(e,n,o){for(let t=e+1;t<n.length;t+=1)if(!n[t].disabled)return t;if(o){for(let t=0;t<n.length;t+=1)if(!n[t].disabled)return t}return e}function be(e,n,o){return L(e,o)===L(n,o)}function xe({parentSelector:e,siblingSelector:n,onKeyDown:o,loop:t=!0,activateOnFocus:c=!1,dir:s="rtl",orientation:u}){return a=>{var r;o==null||o(a);const i=Array.from(((r=L(a.currentTarget,e))==null?void 0:r.querySelectorAll(n))||[]).filter(l=>be(a.currentTarget,l,e)),f=i.findIndex(l=>a.currentTarget===l),d=De(f,i,t),m=Me(f,i,t),p=s==="rtl"?m:d,g=s==="rtl"?d:m;switch(a.key){case"ArrowRight":{u==="horizontal"&&(a.stopPropagation(),a.preventDefault(),i[p].focus(),c&&i[p].click());break}case"ArrowLeft":{u==="horizontal"&&(a.stopPropagation(),a.preventDefault(),i[g].focus(),c&&i[g].click());break}case"ArrowUp":{u==="vertical"&&(a.stopPropagation(),a.preventDefault(),i[m].focus(),c&&i[m].click());break}case"ArrowDown":{u==="vertical"&&(a.stopPropagation(),a.preventDefault(),i[d].focus(),c&&i[d].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!i[0].disabled&&i[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const l=i.length-1;!i[l].disabled&&i[l].focus();break}}}}function D(e,n){return o=>{e==null||e(o),n==null||n(o)}}function ke(e,n,o){var t;return o?Array.from(((t=L(o,n))==null?void 0:t.querySelectorAll(e))||[]).findIndex(c=>c===o):null}function Ie(){const[e,n]=v.useState(-1);return[e,{setHovered:n,resetHovered:()=>n(-1)}]}function Y(e,n){return Array.isArray(e)?[...e].reduce((o,t)=>({...o,...Y(t,n)}),{}):typeof e=="function"?e(n):e??{}}function Se(e){if(!e||typeof e=="string")return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function U(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const T=typeof window<"u"&&window.requestAnimationFrame;function Ee({transitionDuration:e,transitionTimingFunction:n="ease",onTransitionEnd:o=()=>{},opened:t}){const c=v.useRef(null),s=0,u={display:"none",height:0,overflow:"hidden"},[a,i]=v.useState(t?{}:u),f=r=>{le.flushSync(()=>i(r))},d=r=>{f(l=>({...l,...r}))};function m(r){const l=e||Se(r);return{transition:`height ${l}ms ${n}, opacity ${l}ms ${n}`}}J(()=>{typeof T=="function"&&T(t?()=>{d({willChange:"height",display:"block",overflow:"hidden"}),T(()=>{const r=U(c);d({...m(r),height:r})})}:()=>{const r=U(c);d({...m(r),willChange:"height",height:r}),T(()=>d({height:s,overflow:"hidden"}))})},[t]);const p=r=>{if(!(r.target!==c.current||r.propertyName!=="height"))if(t){const l=U(c);l===a.height?f({}):d({height:l}),o()}else a.height===s&&(f(u),o())};function g({style:r={},refKey:l="ref",...w}={}){const h=w[l];return{"aria-hidden":!t,...w,[l]:ce(c,h),onTransitionEnd:p,style:{boxSizing:"border-box",...r,...a}}}return g}const Ce={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Te=_((e,n)=>{const{children:o,in:t,transitionDuration:c,transitionTimingFunction:s,style:u,onTransitionEnd:a,animateOpacity:i,...f}=k("Collapse",Ce,e),d=Q(),m=ue(),g=(d.respectReducedMotion?m:!1)?0:c,r=Ee({opened:t,transitionDuration:g,transitionTimingFunction:s,onTransitionEnd:a});return g===0?t?y.createElement(A,{...f},o):null:y.createElement(A,{...r({style:{opacity:t||!i?1:0,transition:i?`opacity ${g}ms ${s}`:"none",...Y(u,d)},ref:n,...f})},o)});Te.displayName="@mantine/core/Collapse";function Pe({open:e,close:n,openDelay:o,closeDelay:t}){const c=v.useRef(-1),s=v.useRef(-1),u=()=>{window.clearTimeout(c.current),window.clearTimeout(s.current)},a=()=>{u(),o===0||o===void 0?e():c.current=window.setTimeout(e,o)},i=()=>{u(),t===0||t===void 0?n():s.current=window.setTimeout(n,t)};return v.useEffect(()=>u,[]),{openDropdown:a,closeDropdown:i}}const[Ne,P]=de("Menu component was not found in the tree");var C={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Re={},q=_((e,n)=>{const{classNames:o,className:t,style:c,styles:s,vars:u,...a}=k("MenuDivider",Re,e),i=P();return y.createElement(A,{ref:n,...i.getStyles("divider",{className:t,style:c,styles:s,classNames:o}),...a})});q.classes=C;q.displayName="@mantine/core/MenuDivider";const Ae={},z=_((e,n)=>{const{classNames:o,className:t,style:c,styles:s,vars:u,onMouseEnter:a,onMouseLeave:i,children:f,...d}=k("MenuDropdown",Ae,e),m=v.useRef(null),p=P(),g=w=>{var h,I;(w.key==="ArrowUp"||w.key==="ArrowDown")&&(w.preventDefault(),(I=(h=m.current)==null?void 0:h.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||I.focus())},r=D(a,()=>(p.trigger==="hover"||p.trigger==="click-hover")&&p.openDropdown()),l=D(i,()=>(p.trigger==="hover"||p.trigger==="click-hover")&&p.closeDropdown());return y.createElement(V.Dropdown,{...d,onMouseEnter:r,onMouseLeave:l,role:"menu","aria-orientation":"vertical",ref:W(n,m),...p.getStyles("dropdown",{className:t,style:c,styles:s,classNames:o,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:g},y.createElement("div",{tabIndex:-1,"data-autofocus":!0,"aria-hidden":!0,style:{outline:0}}),f)});z.classes=C;z.displayName="@mantine/core/MenuDropdown";const Le={},B=pe((e,n)=>{const{classNames:o,className:t,style:c,styles:s,vars:u,color:a,closeMenuOnClick:i,leftSection:f,rightSection:d,children:m,disabled:p,...g}=k("MenuItem",Le,e),r=P(),l=Q(),{dir:w}=ve(),h=v.useRef(),I=r.getItemIndex(h.current),S=g,$=D(S.onMouseLeave,()=>r.setHovered(-1)),N=D(S.onMouseEnter,()=>r.setHovered(r.getItemIndex(h.current))),O=D(S.onClick,()=>{typeof i=="boolean"?i&&r.closeDropdownImmediately():r.closeOnItemClick&&r.closeDropdownImmediately()}),F=D(S.onFocus,()=>r.setHovered(r.getItemIndex(h.current))),b=a?l.variantColorResolver({color:a,theme:l,variant:"light"}):void 0,M=a?me({color:a,theme:l}):null;return y.createElement(fe,{...g,unstyled:r.unstyled,tabIndex:r.menuItemTabIndex,onFocus:F,...r.getStyles("item",{className:t,style:c,styles:s,classNames:o}),ref:W(h,n),role:"menuitem",disabled:p,"data-menu-item":!0,"data-disabled":p||void 0,"data-hovered":r.hovered===I?!0:void 0,onMouseEnter:N,onMouseLeave:$,onClick:O,onKeyDown:xe({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:r.loop,dir:w,orientation:"vertical",onKeyDown:S.onKeydown}),__vars:{"--menu-item-color":M!=null&&M.isThemeColor&&(M==null?void 0:M.shade)===void 0?`var(--mantine-color-${M.color}-6)`:b==null?void 0:b.color,"--menu-item-hover":b==null?void 0:b.hover}},f&&y.createElement("div",{...r.getStyles("itemSection",{styles:s,classNames:o}),"data-position":"left"},f),m&&y.createElement("div",{...r.getStyles("itemLabel",{styles:s,classNames:o})},m),d&&y.createElement("div",{...r.getStyles("itemSection",{styles:s,classNames:o}),"data-position":"right"},d))});B.classes=C;B.displayName="@mantine/core/MenuItem";const _e={},j=_((e,n)=>{const{classNames:o,className:t,style:c,styles:s,vars:u,...a}=k("MenuLabel",_e,e),i=P();return y.createElement(A,{ref:n,...i.getStyles("label",{className:t,style:c,styles:s,classNames:o}),...a})});j.classes=C;j.displayName="@mantine/core/MenuLabel";const $e={refProp:"ref"},Z=v.forwardRef((e,n)=>{const{children:o,refProp:t,...c}=k("MenuTarget",$e,e);if(!ge(o))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=P(),u=D(o.props.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),a=D(o.props.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),i=D(o.props.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return y.createElement(V.Target,{refProp:t,popupType:"menu",ref:n,...c},v.cloneElement(o,{onClick:u,onMouseEnter:a,onMouseLeave:i,"data-expanded":s.opened?!0:void 0}))});Z.displayName="@mantine/core/MenuTarget";const Oe={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function x(e){const n=k("Menu",Oe,e),{children:o,onOpen:t,onClose:c,opened:s,defaultOpened:u,trapFocus:a,onChange:i,closeOnItemClick:f,loop:d,closeOnEscape:m,trigger:p,openDelay:g,closeDelay:r,classNames:l,styles:w,unstyled:h,variant:I,vars:S,menuItemTabIndex:$,keepMounted:N,...O}=n,F=he({name:"Menu",classes:C,props:n,classNames:l,styles:w,unstyled:h}),[b,{setHovered:M,resetHovered:ee}]=Ie(),[E,K]=ye({value:s,defaultValue:u,finalValue:!1,onChange:i}),[te,X]=v.useState(!1),R=()=>{K(!1),X(!1),E&&(c==null||c())},H=()=>{K(!0),!E&&(t==null||t())},G=()=>{E?R():H()},{openDropdown:oe,closeDropdown:ne}=Pe({open:H,close:R,closeDelay:r,openDelay:g}),re=ie=>ke("[data-menu-item]","[data-menu-dropdown]",ie),{resolvedClassNames:se,resolvedStyles:ae}=we({classNames:l,styles:w,props:n});return J(()=>{ee()},[E]),y.createElement(Ne,{value:{getStyles:F,opened:E,toggleDropdown:G,getItemIndex:re,hovered:b,setHovered:M,openedViaClick:te,setOpenedViaClick:X,closeOnItemClick:f,closeDropdown:p==="click"?R:ne,openDropdown:p==="click"?H:oe,closeDropdownImmediately:R,loop:d,trigger:p,unstyled:h,menuItemTabIndex:$}},y.createElement(V,{...O,opened:E,onChange:G,defaultOpened:u,trapFocus:N?!1:a,closeOnEscape:m,__staticSelector:"Menu",classNames:se,styles:ae,unstyled:h,variant:I,keepMounted:N},o))}x.extend=e=>e;x.classes=C;x.displayName="@mantine/core/Menu";x.Item=B;x.Label=j;x.Dropdown=z;x.Target=Z;x.Divider=q;export{Te as C,x as M,D as c,Y as g};
