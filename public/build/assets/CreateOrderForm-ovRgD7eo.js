import{r as p,j as e,a as x,c as h,y as g,n as a}from"./app-DmqRxiIu.js";import{G as j}from"./iconBase-DizHYFA0.js";import{b as _}from"./index-CmvrDTUL.js";function v(i){return j({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"},child:[]}]})(i)}const E=({addresses:i,selectedCartId:o,totalSelectedPrice:f,conditionalShippingPrice:r})=>{const t=i.length>0?i.find(s=>s.is_default):"",[c,N]=p.useState(t),l=f+r,[d,m]=p.useState(!1),n={address_id:c,shipping_price:r,total_price:l,cart_ids:o},u=()=>{g.visit("/orders",{method:"post",data:{address_id:c.id,shipping_price:r,total_price:l,cart_ids:o},onProgress:()=>{m(!0)},onSuccess:()=>{m(!1),a.show({color:"green",title:"Success notification",message:"Berhasil menambahkan pesanan!"})},onError:s=>{s.address_id&&a.show({color:"red",title:"Error notification",message:s.address_id}),s.shipping_price&&a.show({color:"red",title:"Error notification",message:s.shipping_price}),s.total_price&&a.show({color:"red",title:"Error notification",message:s.total_price}),s.cart_ids&&a.show({color:"red",title:"Error notification",message:s.cart_ids})}})};return console.log(n),e.jsxs("div",{children:[e.jsxs("div",{className:"mt-3 border-b border-gray-400 pb-3",children:[e.jsx("p",{className:" mb-2 font-medium",children:"Alamat Pengiriman:"}),i.length>0?e.jsxs(x,{href:route("address.index"),className:"flex gap-4 items-center hover:bg-gray-200 py-2 px-3 rounded border border-gray-300 transition",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs",children:[t.recipient_name," | ",t.phone_number]}),e.jsx("p",{className:"text-xs line-clamp-2",children:t.address_name}),e.jsxs("p",{className:"text-xs uppercase",children:[t.city,", ",t.state,","," ",t.country," ",t.postal_code]})]}),e.jsx("div",{children:e.jsx(v,{className:"text-sm"})})]}):e.jsx(h,{component:x,href:route("address.index"),variant:"outline",size:"xs",leftSection:e.jsx(_,{size:12}),children:"Alamat Baru"}),e.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[e.jsx("p",{className:"font-medium",children:"Biaya Pengiriman:"}),e.jsxs("p",{className:"text-primary",children:["Rp",n.shipping_price.toLocaleString()]})]})]}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsx("p",{className:"font-medium",children:"Total:"}),e.jsxs("p",{className:"text-xl text-primary font-medium",children:["Rp",n.total_price.toLocaleString()]})]}),e.jsxs("div",{className:"mt-8",children:[d&&e.jsx("p",{children:"Loading"}),e.jsx(h,{size:"md",fullWidth:!0,loading:d,onClick:u,children:"Pesan Sekarang"})]})]})};export{E as default};
